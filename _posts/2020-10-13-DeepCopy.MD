---
layout: post
comments: true
title: 深、浅拷贝
---

复习一下深、浅拷贝

### 什么是深、浅拷贝(deep、shallow copy)  
对于值类型应该不存在这两个概念，每次传递都是完全复制的。

对于引用类型来说
> 浅拷贝：拷贝的仅为对象的指针，没有产生新的对象(仅引用计数+1)

> 深拷贝：开辟新的内存区，复制出一个完全独立的对象

### OC中的copy、mutableCopy方法
位于Foundation中的NSObject.h中有NSCopying、NSMutableCopying协议，实现相应的方法，即可调用相应的copy、mutableCopy方法

> NSCopying协议：复制出不可变的副本

> NSMutableCopying协议：复制出可变的副本

OC为什么区分可变与不可变类型呢？
> 忘了在哪里看到的了，历史原因，不过这样的分类的确有点道理，待补充

#### Foundation框架中的已实现的方式
弄清楚概念，这两个协议和深浅拷贝是完全两个概念

思考一个问题，如果一个对象原本就是不可变类型，如NSArray,让你去实现NSCopying协议的方法，你会怎么写？再读一遍，是复制出一份不可变的副本。一般的做法应该都是直接返回self,不然难道会再新建一个不可变的对象副本吗？原对象都是不可变的了，难道还怕你修改它的副本，然后影响到原对象？

+ 
+

***
### js中的深、浅拷贝

***
### java中的深、浅拷贝

***
### 引用源
+ [](https://)
 

